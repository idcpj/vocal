# Vocal ğŸ™ï¸

**åŸºäº iPhone çš„ Mac é«˜é€Ÿã€ä½å»¶è¿Ÿè¯­éŸ³å½•å…¥é”®ç›˜ã€‚**

[English](README.md) | ä¸­æ–‡ç‰ˆ

Vocal å°†æ‚¨çš„ iPhone è½¬æ¢ä¸ºä¸“ä¸šçš„è¿œç¨‹è¯­éŸ³è¾“å…¥è®¾å¤‡ã€‚å®ƒåˆ©ç”¨è‹¹æœåŸç”Ÿçš„è¯­éŸ³è¯†åˆ«æŠ€æœ¯ï¼ˆSpeech Recognitionï¼‰ï¼Œé€šè¿‡ä½å»¶è¿Ÿçš„ WebSocket æµå°†è¯†åˆ«ç»“æœç›´æ¥ä¼ è¾“åˆ°æ‚¨çš„ Macï¼Œå¹¶åƒé”®ç›˜è¾“å…¥ä¸€æ ·å°†æ–‡æœ¬æ³¨å…¥åˆ°ä»»ä½•å½“å‰é€‰ä¸­çš„åº”ç”¨ç¨‹åºä¸­ã€‚

---

## âœ¨ æ ¸å¿ƒç‰¹æ€§

- **ğŸš€ æä½å»¶è¿Ÿ**ï¼šå®æ—¶ WebSocket æµä¼ è¾“ï¼Œç¡®ä¿è¯­éŸ³è½¬æ–‡å­—å‡ ä¹åŒæ­¥å®Œæˆã€‚
- **ğŸ“± åŸç”Ÿè¯†åˆ«**ï¼šè°ƒç”¨ Apple åŸç”Ÿ `SFSpeechRecognizer` å¼•æ“ï¼Œæ”¯æŒé«˜ç²¾åº¦è¯†åˆ«åŠå¤šè¯­è¨€åˆ‡æ¢ã€‚
- **ğŸ” è‡ªåŠ¨å‘ç°**ï¼šé€šè¿‡ mDNS (Bonjour/ZeroConf) è‡ªåŠ¨å‘ç°å±€åŸŸç½‘å†…çš„ Mac ç”µè„‘ï¼Œæ— éœ€æ‰‹åŠ¨è¾“å…¥ IP åœ°å€ã€‚
- **âŒ¨ï¸ å…¨å±€è¾“å…¥**ï¼šåˆ©ç”¨ macOS Accessibility (è¾…åŠ©åŠŸèƒ½) APIï¼Œæ”¯æŒåœ¨æ‰€æœ‰ macOS åº”ç”¨ç¨‹åºä¸­è¾“å…¥æ–‡æœ¬ã€‚
- **ğŸ¨ æç®€ç¾å­¦**ï¼šé‡‡ç”¨ â€œTerminal x Minimalâ€ è®¾è®¡é£æ ¼ï¼Œæ”¯æŒæ·±è‰²æ¨¡å¼å¹¶æä¾›å®æ—¶è½¬å½•åé¦ˆã€‚

## ğŸ“¸ ç•Œé¢æˆªå›¾

| iPhone å®¢æˆ·ç«¯ | Mac å®¿ä¸»ç¨‹åº |
| :---: | :---: |
| ![ç§»åŠ¨åº”ç”¨æˆªå›¾](assets/vocal_mobile_app.png) | ![Mac å®¿ä¸»æˆªå›¾](assets/vocal_mac_host.png) |

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **Mac ç«¯ (Host)**: Swift, `Network.framework` (WebSocket), `mDNS` (NetService), `Accessibility APIs`.
- **iOS ç«¯ (Client)**: Flutter, `SpeechToText` (SFSpeechRecognizer), `mDNS` å‘ç°æœåŠ¡ã€‚
- **é€šä¿¡åè®®**: åŸºäº TCP çš„è‡ªå®šä¹‰ WebSocket æµï¼Œæ”¯æŒæœåŠ¡è‡ªåŠ¨å‘ç°ã€‚

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. Mac ç«¯è®¾ç½® (å®¿ä¸»ç¨‹åº)

å®¿ä¸»ç¨‹åºè¿è¡Œåœ¨èœå•æ ä¸­ï¼Œè´Ÿè´£æ¥æ”¶æ¥è‡ªæ‰‹æœºçš„æ–‡æœ¬ã€‚

**å®‰è£…æ­¥éª¤:**
1. **æ„å»º DMG**:
   ```bash
   ./mac/build_macos.sh
   ```
2. **å®‰è£…**: æ‰“å¼€ `build_macos/VocalHost.dmg` å¹¶å°† **VocalHost** æ‹–å…¥ **Applications (åº”ç”¨ç¨‹åº)** æ–‡ä»¶å¤¹ã€‚
3. **å¯åŠ¨**: ä»åº”ç”¨ç¨‹åºæ–‡ä»¶å¤¹æˆ– Spotlight æœç´¢å¹¶å¯åŠ¨ VocalHostã€‚

**æƒé™è®¾ç½®:**
- ç‚¹å‡»èœå•æ ä¸­çš„ **Vocal å›¾æ ‡**ã€‚
- ç¡®ä¿å·²æˆäºˆ **è¾…åŠ©åŠŸèƒ½ (Accessibility)** æƒé™ (`ç³»ç»Ÿè®¾ç½® > éšç§ä¸å®‰å…¨æ€§ > è¾…åŠ©åŠŸèƒ½`)ã€‚
- **æ³¨æ„**: ç”±äºæ˜¯è‡ªè¡Œæ„å»ºçš„åº”ç”¨ï¼Œå¦‚æœç³»ç»Ÿæç¤ºâ€œæ— æ³•ç¡®è®¤å¼€å‘è€…â€ï¼Œè¯·åœ¨åº”ç”¨ç¨‹åºæ–‡ä»¶å¤¹ä¸­**å³é”®ç‚¹å‡»** VocalHost å¹¶é€‰æ‹©â€œæ‰“å¼€â€ã€‚

### 2. iPhone å®¢æˆ·ç«¯è®¾ç½®

å®¢æˆ·ç«¯è´Ÿè´£è¯­éŸ³è¯†åˆ«å’Œæ•°æ®ä¼ è¾“ã€‚

**å¯åŠ¨åº”ç”¨:**
```bash
cd mobile
flutter run
```

**è¿è¡Œè¦æ±‚:**
- æ‰‹æœºå’Œ Mac å¿…é¡»å¤„äº **åŒä¸€ä¸ª Wi-Fi ç½‘ç»œ** ä¸‹ã€‚
- åœ¨ iPhone ä¸Šæˆæƒ **éº¦å…‹é£** å’Œ **è¯­éŸ³è¯†åˆ«** æƒé™ã€‚

---

## ğŸ—ï¸ æ¶æ„è®¾è®¡

```mermaid
graph LR
    A[iPhone Client] -- mDNS å‘ç°æœåŠ¡ --> B[Mac Host]
    A -- WebSocket (PCM æ•°æ®æµ) --> B
    B -- AXUIElement (æ–‡å­—æ³¨å…¥) --> C[æ´»è·ƒçš„ macOS åº”ç”¨]
```



## ğŸ“„ å¼€æºåè®®
MIT License - Copyright (c) 2026 Vocal Contributors
